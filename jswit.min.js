(function(r,h,s){function n(a){return"undefined"==typeof a}function j(a){return"string"==typeof a?h.getElementById(a):a}function m(a,c){return j(c||h).getElementsByTagName(a)}var q=!!r.ActiveXObject,k={debug:!1,tagBegin:"%",tagEnd:"%",maxRecursive:1E3},p=[],f={log:function(a){n(console)||console.log(a)},nodeName:function(a,c){return a.nodeName&&a.nodeName.toUpperCase()==c.toUpperCase()},nameOf:function(a){return-1<a.toLowerCase().indexOf("name=")?a.substr(5):null},removeScriptTag:function(a){return a.replace(/<script[\w\W]*?<\/script>/g,
"").replace(/<script[\w\W]*?>/g,"")},isObjectOrArray:function(a){return"object"==typeof a||"array"==typeof a?!0:!1},replace:function(a,c,b){return b.replace(RegExp(k.tagBegin+a+k.tagEnd,"gi"),c)},trim:function(a){return(a||"").replace(/^\s+|\s+$/g,"")},toArray:function(a){var c,b=[];if(null!=a)if(c=a.length,null==c||a.split||a.setInterval||a.call)b[0]=a;else for(;c;)b[--c]=a[c];return b},merge:function(a,c){var b=0,d,e=a.length;if(q)for(;d=c[b++];)8!=d.nodeType&&(a[e++]=d);else for(;d=c[b++];)a[e++]=
d;return a},stringToDom:function(a,c){var b=[];c=c||h;"undefined"==typeof c.createElement&&(c=c.ownerDocument||c[0]&&c[0].ownerDocument||h);"number"==typeof a&&(a=""+a);a=a.replace(/(<(\w+)[^>]*?)\/>/g,function(a,b,c){return c.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?a:b+"></"+c+">"});var d=f.trim(a).toLowerCase(),e=c.createElement("div"),g=!d.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!d.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||d.match(/^<(thead|tbody|tfoot|colg|cap)/)&&
[1,"<table>","</table>"]||!d.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!d.indexOf("<td")||!d.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!d.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||q&&[1,"div<div>","</div>"]||[0,"",""];for(e.innerHTML=g[1]+a+g[2];g[0]--;)e=e.lastChild;if(q){d=!d.indexOf("<table")&&0>d.indexOf("<tbody")?e.firstChild&&e.firstChild.childNodes:"<table>"==g[1]&&0>d.indexOf("<tbody")?e.childNodes:[];for(g=d.length-
1;0<=g;--g)f.nodeName(d[g],"tbody")&&!d[g].childNodes.length&&d[g].parentNode.removeChild(d[g]);/^\s/.test(a)&&e.insertBefore(c.createTextNode(a.match(/^\s*/)[0]),e.firstChild)}a=f.toArray(e.childNodes);if(!(0===a.length&&!f.nodeName(a,"form")&&!f.nodeName(a,"select")))return a[0]==s||f.nodeName(a,"form")||a.options?b.push(a):b=f.merge(b,a),b},html:function(a,c,b){for(;a.firstChild;)a.removeChild(a.firstChild);var d,e=[],g=f.stringToDom(c);f.nodeName(a,"table")&&f.nodeName(g[0],"tr")&&(a=m("tbody",
a)[0]||a.appendChild(a.ownerDocument.createElement("tbody")));for(d in g)c=g[d],f.nodeName(c,"script")?b?p.push(c):e.push(c):(1==c.nodeType&&!q&&(c.innerHTML=f.removeScriptTag(c.innerHTML)),1==a.nodeType&&a.appendChild(c));if(!b)for(d=0;d<e.length;d++)c=e[d],eval(c.text||c.textContent||c.innerHTML||"")},initDom:function(a,c){a.setAttribute("switInit",!0);a.setAttribute("switSource",c)},initDomCommon:function(a){f.initDom(a,a.innerHTML)},initDomInput:function(a){f.initDom(a,a.getAttribute("value"))},
initDomSelect:function(a){f.initDom(a,a.innerHTML.replace(" selected",""))},renderDomInput:function(a,c){if("array"!=typeof c)if("object"!=typeof c)a.setAttribute("value",c);else for(var b in c)a.setAttribute(b,c[b])},renderDomAttr:function(a,c){if(f.isObjectOrArray(c)){var b,d;for(b in c)if("css"!=b.toLowerCase()||!f.isObjectOrArray(c[b]))a.setAttribute(b,c[b]);else for(d in c[b])a.style[d]=c[b][d]}},renderDomCommon:function(a,c,b){if(f.isObjectOrArray(c)){var d,e,g,l="",h=a.getAttribute("switSource")||
"",j={};for(d in c)if(isNaN(parseInt(d)))j[d]=c[d];else if(f.isObjectOrArray(c[d])){g=h;for(e in c[d])g=f.replace(e,c[d][e],g);l+=g}else l+=c[d];if(""!=l||0>h.indexOf(k.tagBegin)&&0>h.indexOf(k.tagEnd))f.renderDomAttr(a,j);else for(d in l=h,j)l=f.replace(d,j[d],l);f.html(a,l,b)}else f.html(a,c,b)},isCrossDomain:function(a){a=a.toLowerCase();var c=h.domain.toLowerCase();return 0>a.indexOf("http://")&&0>a.indexOf("https://")||-1<a.indexOf("http://"+c)||-1<a.indexOf("https://"+c)?!1:!0},requireCrossDomain:function(a){var c=
m("body")[0],b="_switJsonp"+Math.random(),d=h.createElement("script");j(b)&&c.removeChild(j(b));d.src=a;d.type="text/javascript";d.defer=!0;d.id=b;c.appendChild(d)},createRemoteRequest:function(){for(var a=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0;c<a.length;c++)try{var b=a[c]();if(null!=b)return b}catch(d){}f.log("can not create xml http request")},toHttpParam:function(a){var c=[],b,
d;if(a.constructor==Array)for(b=0;b<a.length;b++)c.push(encodeURIComponent(a[b].name)+"="+encodeURIComponent(a[b].value));else for(d in a)if(a[d]&&a[d].constructor==Array)for(b=0;b<a[d].length;b++)c.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d][b]));else c.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return c.join("&").replace(/%20/g,"+")},toFormData:function(a){var c={},b,d,e,g=[];if(a.constructor==String){if(b=f.nameOf(a)){e=j(h).getElementsByName(b);for(b=0;b<e.length;b++)g.push(m("input",
e[b])),g.push(m("textarea",e[b])),g.push(m("select",e[b]))}else if(e=j(a))g.push(m("input",e)),g.push(m("textarea",e)),g.push(m("select",e));if(1>g.length)return c;a=[];for(b=0;b<g.length;b++)for(d=0;d<g[b].length;d++)a.push(g[b][d]);g=[]}for(d=0;d<a.length;d++)if("string"==typeof a[d])if(b=f.nameOf(a[d])){e=j(h).getElementsByName(b);for(b=0;b<e.length;b++)g.push(e[b])}else g.push(j(a[d]));else g.push(a[d]);for(d=0;d<g.length;d++)if(e=g[d],!n(e.nodeName)&&!n(e.name)&&e.name){switch(e.nodeName.toLowerCase()){case "input":if(n(e.type))continue;
b=e.type.toLowerCase();if("text"==b||"password"==b||"hidden"==b)break;if(("radio"==b||"checkbox"==b)&&e.checked)break;continue}b=typeof c[e.name];switch(b.toLowerCase()){case "undefined":c[e.name]=e.value;break;case "array":c[e.name].push(e.value);break;default:c[e.name]=[c[e.name],e.value]}}return c},remoteViewData:function(a,c,b,d){if(f.isCrossDomain(c))f.requireCrossDomain(c);else{var e=f.createRemoteRequest();if(e){b.method||(b.method="GET");b.form?(b.method="POST",b.form=f.toHttpParam(f.toFormData(b.form))):
b.form=null;"function"!=typeof b.success&&(b.success=f.renderDom);"function"!=typeof b.error&&(b.error=f.log);e.onreadystatechange=function(){if(4==e.readyState)if(200!=e.status){var g="unknown reponse";"string"==typeof e.responseText&&(g=f.removeScriptTag(e.responseText).replace(/<style[\w\W]*?<\/style>/g,"").replace(/<(?:.|\s)*?>/g,"").replace(/([\r\n])[\s]+/g,"\r\n"));b.error.call(this,g)}else if("string"!=typeof e.responseText)b.error.call(this,"invalid remote reponse type "+typeof e.responseText);
else if(g=f.trim(e.responseText),("json"==d||"jsonlink"==d)&&"["!=g.substr(0,1)&&"{"!=g.substr(0,1))b.error.call(this,"invalid remote json from url: \n"+c+" \nserver said: \n"+g);else switch(d){case "json":eval("ret="+g+";");case "html":b.success.call(this,a,g,1);break;case "jsonlink":eval("ret="+g+";");b.success.call(this,g,1);break;default:b.error.call(this,"invalid remote data type of "+d)}};e.open(b.method,c);try{e.setRequestHeader("X-Requested-With","XMLHttpRequest"),"POST"==b.method&&e.setRequestHeader("Content-type",
"application/x-www-form-urlencoded")}catch(g){}e.send(b.form)}}},renderDom:function(a,c,b,d){if(a)if(n(b)&&(b=0),b>k.maxRecursive)f.log("exceed max recursive of "+k.maxRecursive);else{if(1>b){if("string"==typeof c.url){f.remoteViewData(a,c.url,c,"html");return}if("string"==typeof c.json){f.remoteViewData(a,c.json,c,"json");return}}if("string"!=typeof a.nodeName)f.log("undefined DOM nodeName");else{var e;b=a.nodeName.toLowerCase();b=b.substr(0,1).toUpperCase()+b.substr(1);a.getAttribute("switInit")||
(e="initDom"+b,"function"!=typeof f[e]&&(e="initDomCommon"),f[e].call(this,a));e="renderDom"+b;"function"!=typeof f[e]&&(e="renderDomCommon");f[e].call(this,a,c,d)}}},render:function(a,c){if(f.isObjectOrArray(a)){var b,d,e;p=[];for(e in a){k.debug&&f.log("render start for "+e);if(b=f.nameOf(e)){b=j(h).getElementsByName(b);for(d=0;d<b.length;d++)f.renderDom(b[d],a[e],c,!0)}else f.renderDom(j(e),a[e],c,!0);k.debug&&f.log("render end for "+e)}for(d=0;d<p.length;d++)elem=p[d],eval(elem.text||elem.textContent||
elem.innerHTML||"");p=[]}}};r.swit={config:function(a){return n(k[a])?s:k[a]},setConfig:function(a,c){if("object"==typeof a)for(var b in a)k[b]=a[b];else k[a]=c},callback:function(a){f.render(a,1)},remoteRender:function(a,c){f.remoteViewData({},a,{success:f.render,form:c},"jsonlink")},render:f.render}})(window,document,void 0);
